var table1,table2,upCaseName,id1,name,id2,age;table1=[{id:1,name:"george"},{id:2,name:"mike"},{id:3,name:"donald"},{id:4,name:"negaihoshi"},{id:5,name:"negaihoshi"},{id:6,name:"Jimmy"}],table2=[{id:2,age:21},{id:1,age:20},{id:3,age:26}],upCaseName=function(e){return e.name=e.name.toUpperCase()},JSON.stringify(each(upCaseName)(sortBy(function(e){return e.id})(function(){var e,a,i,n,d,m,t,g=[];for(e=0,i=(a=table1).length;i>e;++e)for(n=a[e],id1=n.id,name=n.name,d=0,m=(n=table2).length;m>d;++d)t=n[d],id2=t.id,age=t.age,id1===id2&&g.push({id:id1,name:name,age:age});return g}())));